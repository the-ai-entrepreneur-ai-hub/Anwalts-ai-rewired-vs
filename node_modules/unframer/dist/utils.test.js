"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const vitest_1 = require("vitest");
const utils_1 = require("./utils");
(0, vitest_1.describe)('dedent', () => {
    (0, vitest_1.it)('should remove common indentation from template literals', () => {
        const result = (0, utils_1.dedent) `
            Hello world
            This is a test

            With multiple lines
        `;
        (0, vitest_1.expect)(result).toMatchInlineSnapshot(`
          "Hello world
          This is a test

          With multiple lines"
        `);
    });
    (0, vitest_1.it)('should handle mixed indentation levels', () => {
        const result = (0, utils_1.dedent) `
            function example() {
                const x = 1
                if (x) {
                    console.log('hello')
                }
            }
        `;
        (0, vitest_1.expect)(result).toMatchInlineSnapshot(`
          "function example() {
              const x = 1
              if (x) {
                  console.log('hello')
              }
          }"
        `);
    });
    (0, vitest_1.it)('should handle template values', () => {
        const name = 'world';
        const count = 42;
        const result = (0, utils_1.dedent) `
            Hello ${name}!
            The count is ${count}
            End of message
        `;
        (0, vitest_1.expect)(result).toMatchInlineSnapshot(`
          "Hello world!
          The count is 42
          End of message"
        `);
    });
    (0, vitest_1.it)('should handle empty lines and preserve relative indentation', () => {
        const result = (0, utils_1.dedent) `
            Start

                Indented line

            End
        `;
        (0, vitest_1.expect)(result).toMatchInlineSnapshot(`
          "Start

              Indented line

          End"
        `);
    });
    (0, vitest_1.it)('should handle single line', () => {
        const result = (0, utils_1.dedent) `
          Single line
          `;
        (0, vitest_1.expect)(result).toMatchInlineSnapshot(`"Single line"`);
    });
    (0, vitest_1.it)('should handle lines with only whitespace', () => {
        const result = (0, utils_1.dedent) `
            Line 1

            Line 3
        `;
        (0, vitest_1.expect)(result).toMatchInlineSnapshot(`
          "Line 1

          Line 3"
        `);
    });
    (0, vitest_1.it)('should handle nested dedent calls', () => {
        const inner = (0, utils_1.dedent) `
            function inner() {
                return 'hello'
            }
        `;
        const result = (0, utils_1.dedent) `
            class Example {
                ${inner}

                method() {
                    console.log('test')
                }
            }
        `;
        (0, vitest_1.expect)(result).toMatchInlineSnapshot(`
          "class Example {
              function inner() {
              return 'hello'
          }

              method() {
                  console.log('test')
              }
          }"
        `);
    });
    (0, vitest_1.it)('should preserve additional indentation in template values', () => {
        const codeBlock = (0, utils_1.dedent) `
            if (condition) {
                doSomething()
                    .then(result => {
                        console.log(result)
                    })
            }
        `;
        const result = (0, utils_1.dedent) `
            function wrapper() {
                ${codeBlock}

                return true
            }
        `;
        (0, vitest_1.expect)(result).toMatchInlineSnapshot(`
          "function wrapper() {
              if (condition) {
              doSomething()
                  .then(result => {
                      console.log(result)
                  })
          }

              return true
          }"
        `);
    });
});
//# sourceMappingURL=utils.test.js.map
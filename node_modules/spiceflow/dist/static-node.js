import fs from 'fs';
import { serveStatic as baseServeStatic } from "./static.js";
export const serveStatic = (options) => {
    const getContent = (path) => {
        path = `./${path}`;
        try {
            return fs.readFileSync(path);
        }
        catch (err) {
            if (err.code !== 'ENOENT') {
                throw err;
            }
        }
        return null;
    };
    const pathResolve = (path) => {
        return `./${path}`;
    };
    const isDir = (path) => {
        let isDir;
        try {
            const stats = fs.statSync(path);
            isDir = stats.isDirectory();
        }
        catch { }
        return isDir;
    };
    const m = baseServeStatic({
        ...options,
        getContent,
        pathResolve,
        isDir,
    });
    return function serveStatic(c, next) {
        return m(c, next);
    };
};
//# sourceMappingURL=static-node.js.map